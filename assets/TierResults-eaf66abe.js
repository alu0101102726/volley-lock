import{S as p}from"./sortable.esm-9c3c89c5.js";import{_ as u,P as m,R as r,b as h,a as d,d as v,o as y,c as g,e as _,t as b,f}from"./index-145ad238.js";const n=m(),V={data(){return{project:"default",listName:"VolleyLock",images:[],maxValue:0,peopleVoted:0,loading:!1}},methods:{getEmptyBoard(){for(let a=1;a<=6;a++){const e=document.querySelector(`.label${a}`);for(var t=e.lastElementChild;t;)e.removeChild(t),t=e.lastElementChild}},async getImages(){const t=r(d(n,"users"),h("email","not-in",["voleylock@gmail.com"]));(await v(t)).forEach((e,s)=>{e.data().voted&&(this.peopleVoted+=1),this.images.push({src:e.data().photo,alt:e.data().name,list:0})})},async getVotes(){const t=r(d(n,"votes")),e=(await v(t)).docs[0].data();this.peopleVoted=this.peopleVoted>1?this.peopleVoted-1:this.peopleVoted,this.maxValue=this.peopleVoted*6,this.images.forEach(s=>{Object.getOwnPropertyNames(e.votes).forEach(l=>{if(s.alt==l){const i=Math.floor(e.votes[`${l}`]/this.peopleVoted),c=document.querySelector(`.label${i}`);let o=new Image(96,96);o.src=s.src,o.style.pointerEvents="none",o.alt=s.alt,c.appendChild(o)}})})}},mounted(){this.getEmptyBoard();let t=document.getElementsByClassName("sort");Array.from(t).forEach(a=>{new p(a,{group:"shared",animation:500})}),this.getImages(),this.getVotes()}},w={class:"tier-list"},x=f('<div class="list-group row" data-v-266e6083><input type="text" value="S" class="tier6 level" readonly data-v-266e6083><div class="tier label6 sort ui-sortable" data-v-266e6083></div></div><div class="list-group row" data-v-266e6083><input type="text" value="A" class="tier5 level" readonly data-v-266e6083><div class="tier label5 sort ui-sortable" data-v-266e6083></div></div><div class="list-group row" data-v-266e6083><input type="text" value="B" class="tier4 level" readonly data-v-266e6083><div class="tier label4 sort ui-sortable" data-v-266e6083></div></div><div class="list-group row" data-v-266e6083><input type="text" value="C" class="tier3 level" readonly data-v-266e6083><div class="tier label3 sort ui-sortable" data-v-266e6083></div></div><div class="list-group row" data-v-266e6083><input type="text" value="D" class="tier2 level" readonly data-v-266e6083><div class="tier label2 sort ui-sortable" data-v-266e6083></div></div><div class="list-group row last" data-v-266e6083><input type="text" value="E" class="tier1 level" readonly data-v-266e6083><div class="tier label1 sort ui-sortable" data-v-266e6083></div></div>',6);function E(t,a,e,s,l,i){return y(),g("div",w,[_("h1",null,"TIER LIST - "+b(l.listName),1),x])}const B=u(V,[["render",E],["__scopeId","data-v-266e6083"]]);export{B as default};
