import{_ as v,g as m,r as i,o as h,c as g,f as s,w as c,h as w,b as t}from"./index-98e0f495.js";const V={data(){return{profilePic:null,user:null,email:null}},methods:{async customBase64Uploader(o){const e=document.querySelector(".profimage"),a=o.files[0],n=new FileReader;n.readAsBinaryString(a);const l=this.user;n.onload=function(d){e.setAttribute("src",`data:${a.type};base64,${btoa(d.target.result)}`),e.setAttribute("alt",l)}},async sendNewInfo(){const o=document.querySelector(".profimage"),e=await m(),a={id:e.uid,name:e.displayName,email:e.email,photo:o.getAttribute("src").toString()};let n="https://volley-ranking-server.onrender.com/profile";const l={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},mode:"no-cors",body:JSON.stringify(a)};await fetch(n,l)}},mounted:async()=>{const o=await m(),a=await(await fetch(`https://volley-ranking-server.onrender.com/${o.uid}`)).json(),n=document.querySelector(".profimage");o!=null&&n.setAttribute("src",a.photo)}},U={class:"container"},x=t("img",{class:"profimage",src:"",alt:"Foto de perfil"},null,-1),S={class:"p-float-label"},B=t("label",{for:"user"},"Usuario",-1),C=t("br",null,null,-1),P={class:"p-float-label"},N=t("label",{for:"email"},"Email",-1),T=t("br",null,null,-1),k={class:"p-float-label"},A=t("label",null,"Descripcion",-1);function F(o,e,a,n,l,d){const _=i("vue-avatar"),f=i("FileUpload"),u=i("InputText"),b=i("Textarea"),p=i("Button"),y=i("Card");return h(),g("div",U,[s(y,{class:"card",style:{width:"35em"}},{header:c(()=>[s(_,{class:"vue-avatar",size:100,"border-radius":"70%"},{default:c(()=>[x]),_:1}),s(f,{class:"btn",mode:"basic",name:"demo[]",chooseLabel:"Editar",url:"/api/upload",accept:"image/*",customUpload:"",onUploader:d.customBase64Uploader,maxFileSize:1e6},null,8,["onUploader"])]),title:c(()=>[w(" Perfil ")]),content:c(()=>[t("span",S,[s(u,{id:"user",modelValue:l.user,"onUpdate:modelValue":e[0]||(e[0]=r=>l.user=r),disabled:""},null,8,["modelValue"]),B]),C,t("span",P,[s(u,{id:"email",modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=r=>l.email=r),disabled:""},null,8,["modelValue"]),N]),T,t("span",k,[s(b,{modelValue:o.desc,"onUpdate:modelValue":e[2]||(e[2]=r=>o.desc=r),autoResize:"",rows:"5",cols:"30"},null,8,["modelValue"]),A])]),footer:c(()=>[s(p,{icon:"pi pi-check",label:"Save",onClick:e[3]||(e[3]=r=>d.sendNewInfo())}),s(p,{icon:"pi pi-times",label:"Cancel",severity:"secondary",style:{"margin-left":"0.5em"}})]),_:1})])}const q=v(V,[["render",F]]);export{q as default};
